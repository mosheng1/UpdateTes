<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>截屏窗口</title>
    <link rel="stylesheet" href="screenshot.css">
</head>
<body>
    <!-- 遮罩层容器 -->
    <div class="mask-layer" id="maskLayer"></div>
    
    <!-- 截屏覆盖层 -->
    <div class="screenshot-overlay" id="overlay"></div>
    
    <!-- 自动选区预览框 -->
    <div class="auto-selection-preview" id="autoSelectionPreview"></div>
    
    <!-- 选择区域 -->
    <div class="selection-area" id="selectionArea">
        <div class="selection-info" id="selectionInfo">0 × 0</div>
        
        <!-- 8个拖拽节点 -->
        <div class="resize-handle resize-handle-nw" data-direction="nw"></div>
        <div class="resize-handle resize-handle-n" data-direction="n"></div>
        <div class="resize-handle resize-handle-ne" data-direction="ne"></div>
        <div class="resize-handle resize-handle-e" data-direction="e"></div>
        <div class="resize-handle resize-handle-se" data-direction="se"></div>
        <div class="resize-handle resize-handle-s" data-direction="s"></div>
        <div class="resize-handle resize-handle-sw" data-direction="sw"></div>
        <div class="resize-handle resize-handle-w" data-direction="w"></div>
        
        <!-- 4个圆角控制节点 -->
        <div class="radius-handle radius-handle-nw" data-corner="nw" data-tooltip="拖拽调整圆角"></div>
        <div class="radius-handle radius-handle-ne" data-corner="ne" data-tooltip="拖拽调整圆角"></div>
        <div class="radius-handle radius-handle-se" data-corner="se" data-tooltip="拖拽调整圆角"></div>
        <div class="radius-handle radius-handle-sw" data-corner="sw" data-tooltip="拖拽调整圆角"></div>
    </div>

    <!-- 提示面板 -->
    <div class="help-panel hidden" id="helpPanel">
        <div class="help-panel-content" id="helpPanelContent">
            <div class="help-item">
                <i class="ti ti-hand-move"></i>
                <span>拖拽选择截屏区域</span>
            </div>
            <div class="help-item">
                <i class="ti ti-arrows-move"></i>
                <span>选区内拖拽移动选区</span>
            </div>
            <div class="help-item">
                <i class="ti ti-arrows-diagonal"></i>
                <span>拖拽边框节点调整大小</span>
            </div>
            <div class="help-item">
                <i class="ti ti-border-corner-pill"></i>
                <span>拖拽角落节点调整圆角</span>
            </div>
            <div class="help-item">
                <i class="ti ti-lock-access"></i>
                <span>Shift + 拖拽角落 = 保持比例缩放</span>
            </div>
            <div class="help-item">
                <i class="ti ti-mouse-2"></i>
                <span>右键取消选区/关闭截屏</span>
            </div>
            <div class="help-item">
                <i class="ti ti-keyboard"></i>
                <span>ESC 关闭 / Enter 确认</span>
            </div>
        </div>
    </div>

    <!-- 工具栏 -->
    <div class="toolbar" id="toolbar">
        <button id="selectionBtn" class="tool-btn" data-tooltip="选择工具" data-tool="selection">
            <i class="ti ti-pointer"></i>
        </button>
        <div class="toolbar-separator"></div>
        <button id="brushBtn" class="tool-btn" data-tooltip="画笔工具" data-tool="brush">
            <i class="ti ti-brush"></i>
        </button>
        <button id="textBtn" class="tool-btn" data-tooltip="文本工具" data-tool="text">
            <i class="ti ti-typography"></i>
        </button>
        <button id="arrowBtn" class="tool-btn" data-tooltip="箭头标注工具" data-tool="arrow">
            <i class="ti ti-arrow-up-right"></i>
        </button>
        <button id="numberBtn" class="tool-btn" data-tooltip="序号标注工具" data-tool="number">
            <i class="ti ti-circle-number-1"></i>
        </button>
        <button id="watermarkBtn" class="tool-btn" data-tooltip="水印工具" data-tool="watermark">
            <i class="ti ti-wall"></i>
        </button>
        <button id="mosaicBtn" class="tool-btn" data-tooltip="马赛克工具" data-tool="mosaic">
            <i class="ti ti-grid-dots"></i>
        </button>
        <button id="shapeBtn" class="tool-btn" data-tooltip="形状工具" data-tool="shape">
            <i class="ti ti-triangle-square-circle"></i>
        </button>
        <div class="toolbar-separator"></div>
        <button id="undoBtn" class="history-btn" data-tooltip="撤销 (Ctrl+Z)" disabled>
            <i class="ti ti-arrow-back-up"></i>
        </button>
        <button id="redoBtn" class="history-btn" data-tooltip="重做 (Ctrl+Shift+Z)" disabled>
            <i class="ti ti-arrow-forward-up"></i>
        </button>
        <div class="toolbar-separator"></div>
        <button id="ocrBtn" class="tool-btn" data-tooltip="OCR文字识别" data-tool="ocr">
            <i class="ti ti-text-scan-2"></i>
        </button>
        <button id="scrollingBtn" class="tool-btn" data-tooltip="长截屏" data-tool="scrolling">
            <i class="ti ti-viewport-tall"></i>
        </button>
        <button id="pinImageBtn" class="tool-btn" data-tooltip="贴图" data-tool="pin-image">
            <i class="ti ti-pin"></i>
        </button>
        <div class="toolbar-separator"></div>
        <button id="confirmBtn" data-tooltip="确认截屏 (Enter)">
            <i class="ti ti-check"></i>
        </button>
        <button id="cancelBtn" class="cancel" data-tooltip="取消截屏 (Esc)">
            <i class="ti ti-x"></i>
        </button>
    </div>

    <!-- 引入截屏脚本 -->
    <script type="module" src="screenshot-main.js"></script>
</body>
</html>
