/* =================== 设置页面亮色主题样式 =================== */

/* 亮色主题颜色变量 */
.theme-background {
    /* 文本颜色 */
    --text-primary: #333;
    --text-secondary: #666;
    --text-tertiary: #777;
    --text-muted: #999;
    --text-placeholder: #999;

    /* 背景颜色 */
    --bg-primary: rgba(255, 255, 255, 0.52);
    --bg-secondary: rgba(248, 249, 250, 0.58);
    --bg-tertiary: rgba(240, 240, 240, 0.54);
    --bg-hover: rgba(248, 249, 250, 0.58);
    --bg-active: rgba(240, 247, 255, 0.56);
    --bg-disabled: rgba(245, 245, 245, 0.54);

    /* 边框颜色 */
    --border-primary: #e9ecef;
    --border-secondary: #e0e0e0;
    --border-hover: #dee2e6;
    --border-active: var(--primary-color);
    --border-disabled: #e9ecef;

    /* 阴影颜色 */
    --shadow-primary: rgba(0, 0, 0, 0.1);
    --shadow-secondary: rgba(0, 0, 0, 0.15);
    --shadow-hover: rgba(0, 0, 0, 0.2);

    /* 状态颜色 */
    --success-color: #52c41a;
    --warning-color: #faad14;
    --error-color: #ff4d4f;
    --info-color: #1890ff;

    /* 特殊颜色 */
    --separator-color: #eee;
    --overlay-bg: rgba(0, 0, 0, 0.5);

    /* 组件背景色 */
    --modal-bg: rgba(255, 255, 255, 0.52);
    --dropdown-bg: rgba(255, 255, 255, 0.52);
    --tooltip-bg: rgba(0, 0, 0, 0.85);
    --card-bg: rgba(255, 255, 255, 0.52);

    /* 模糊度 */
    --blur-radius: 2px;
    --blur-strength: 10px;
}

/* 
div {
    backdrop-filter: blur(10px) !important;
} */

/* =================== 基础样式 =================== */
.theme-background .settings-container {
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

/* =================== 标题栏 =================== */
.theme-background .settings-header {
    background-color: var(--bg-primary);
    border-bottom-color: var(--border-primary);
}

.theme-background .header-left h1 {
    color: var(--text-primary);
}

.theme-background .header-left i {
    color: var(--text-secondary);
}

.theme-background .control-button {
    color: var(--text-secondary);
}

/* 动态标题栏颜色（基于背景图主色调）*/
.theme-background.has-dynamic-titlebar .settings-header {
    background-color: color-mix(in srgb, var(--titlebar-bg-dynamic) 90%, transparent) !important;
    border-bottom-color: var(--titlebar-border-dynamic, var(--border-primary)) !important;
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

.theme-background.has-dynamic-titlebar .header-left h1 {
    color: var(--titlebar-text-dynamic, var(--text-primary)) !important;
}

.theme-background.has-dynamic-titlebar .header-left i {
    color: var(--titlebar-text-dynamic, var(--text-secondary)) !important;
}

.theme-background.has-dynamic-titlebar .control-button {
    color: var(--titlebar-text-dynamic, var(--text-secondary)) !important;
}

.theme-background.has-dynamic-titlebar .control-button:hover {
    background-color: var(--titlebar-text-dynamic, var(--text-secondary)) !important;
    color: var(--titlebar-bg-dynamic, var(--bg-primary)) !important;
    opacity: 0.1;
}

.theme-background .control-button:hover {
    background-color: var(--bg-hover);
}

/* =================== 搜索功能主题适配 =================== */
.theme-background .search-input {
    background-color: rgba(255, 255, 255, 0.95);
    border-color: var(--border-primary);
    color: #333;
    backdrop-filter: blur(var(--blur-strength));
}

.theme-background .search-input:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(74, 137, 220, 0.1);
    background-color: rgba(255, 255, 255, 0.98);
}

.theme-background .search-input::placeholder {
    color: #999;
}

.theme-background .search-icon {
    color: var(--text-secondary);
}

.theme-background .search-clear {
    color: var(--text-secondary);
}

.theme-background .search-clear:hover {
    background-color: var(--bg-hover);
    color: var(--text-primary);
}

.theme-background .search-results {
    background-color: rgba(255, 255, 255, 0.95);
    border-color: var(--border-primary);
    backdrop-filter: blur(var(--blur-strength));
    box-shadow: 0 4px 20px var(--shadow-secondary);
}

.theme-background .search-result-item {
    border-bottom-color: var(--border-secondary);
}

.theme-background .search-result-item:hover {
    background-color: rgba(248, 249, 250, 0.9);
}

.theme-background .search-result-item.active {
    background-color: rgba(240, 247, 255, 0.9);
    border-color: var(--primary-color);
}

.theme-background .search-result-title {
    color: #333;
    font-weight: 500;
}

.theme-background .search-result-path {
    color: #666;
    font-weight: 400;
}

.theme-background .search-result-description {
    color: #777;
    font-weight: 400;
}

.theme-background .search-highlight {
    background: rgba(74, 137, 220, 0.2);
    color: var(--primary-color);
}

.theme-background .search-no-results {
    color: #666;
}

.theme-background .no-results-icon {
    color: #999;
}

.theme-background .no-results-text {
    color: #666;
    font-weight: 500;
}

.theme-background .no-results-tip {
    color: #888;
}

.theme-background .setting-highlight {
    background-color: var(--bg-active) !important;
    border-color: var(--primary-color) !important;
    box-shadow: 0 4px 12px var(--shadow-hover) !important;
}

/* 动态标题栏搜索适配 */
.theme-background.has-dynamic-titlebar .search-input {
    background-color: color-mix(in srgb, var(--titlebar-bg-dynamic) 80%, transparent);
    border-color: var(--titlebar-border-dynamic, var(--border-primary));
    color: var(--titlebar-text-dynamic, var(--text-primary));
}

.theme-background.has-dynamic-titlebar .search-input:focus {
    background-color: color-mix(in srgb, var(--titlebar-bg-dynamic) 90%, transparent);
}

.theme-background.has-dynamic-titlebar .search-input::placeholder {
    color: color-mix(in srgb, var(--titlebar-text-dynamic) 70%, transparent);
}

.theme-background.has-dynamic-titlebar .search-icon {
    color: var(--titlebar-text-dynamic, var(--text-secondary));
}

.theme-background.has-dynamic-titlebar .search-clear {
    color: var(--titlebar-text-dynamic, var(--text-secondary));
}

.theme-background .minimize-btn:hover {
    background: #e3f2fd;
    color: #1976d2;
}

.theme-background .maximize-btn:hover {
    background: #e8f5e8;
    color: #388e3c;
}

.theme-background .close-button:hover {
    background: #ffebee;
    color: #d32f2f;
}

/* =================== 侧边栏 =================== */
.theme-background .settings-sidebar {
    background-color: var(--bg-primary);
    border-right-color: var(--border-primary);
    backdrop-filter: blur(var(--blur-strength));
}

.theme-background .nav-item {
    color: var(--titlebar-bg-dynamic);
}

.theme-background .nav-item:hover {
    background-color: rgba(74, 137, 220, 0.08);
    color: var(--primary-color);
}

.theme-background .nav-item.active {
    background-color: var(--titlebar-bg-dynamic);
    color: var(--titlebar-text-dynamic);
}

/* =================== 主要设置面板 =================== */
.theme-background .settings-main {
    background-color: transparent;
}

.theme-background .settings-section {
    background-color: var(--bg-primary);
    backdrop-filter: blur(var(--blur-radius));
}

.theme-background .section-header h2 {
    color: var(--titlebar-bg-dynamic);
    border-bottom-color: var(--separator-color);
}

.theme-background .section-header p {
    color: var(--titlebar-bg-dynamic);
}

/* =================== 设置组 =================== */
.theme-background .settings-group {
    background-color: transparent !important;
    border-color: var(--border-primary);
    color: var(--titlebar-bg-dynamic) !;
}

.theme-background .settings-group:hover {
    box-shadow: var(--shadow-light);
}

.theme-background .setting-item {
    background-color: transparent !important;
    border-bottom-color: #f0f0f0;
}

.theme-background .setting-item:hover {
    background-color: var(--bg-hover);
}

.theme-background .setting-info .setting-label {
    color: var(--titlebar-bg-dynamic);
}

.theme-background .setting-info .setting-description {
    color: var(--titlebar-bg-dynamic);
}

/* =================== 开关控件 =================== */
.theme-background .toggle-switch .toggle-slider {
    background-color: var(--titlebar-text-dynamic) !important;
}

.theme-background .toggle-switch input:checked+.toggle-slider {
    background-color: var(--primary-hover) !important;
}

.theme-background .toggle-slider:before {
    background-color: white;
    border-color: rgba(0, 0, 0, 0.1);
}

/* =================== 选择框和输入框 =================== */
.theme-background .setting-select {
    background-color: var(--bg-primary);
    border-color: var(--border-secondary);
    color: var(--text-primary);
}

.theme-background .setting-select:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(74, 137, 220, 0.2);
}

.theme-background .setting-input,
.theme-background .setting-textarea {
    background: var(--bg-primary);
    border-color: var(--border-secondary);
    color: var(--text-primary);
}

.theme-background .setting-input:focus,
.theme-background .setting-textarea:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(74, 137, 220, 0.1);
}

.theme-background .setting-input::placeholder,
.theme-background .setting-textarea::placeholder {
    color: var(--text-placeholder);
}

/* =================== 按钮样式 =================== */
.theme-background .setting-button {
    background: var(--bg-secondary);
    border-color: var(--border-secondary);
    color: var(--text-primary);
}

.theme-background .setting-button:hover {
    background: #e9ecef;
    border-color: #adb5bd;
}

.theme-background .setting-button-small {
    background: var(--bg-secondary);
    border-color: var(--border-secondary);
    color: var(--text-primary);
}

.theme-background .setting-button-small:hover {
    background: #e9ecef;
    border-color: #adb5bd;
}

.theme-background .primary-button {
    background: var(--primary-dark);
    color: white;
}

.theme-background .primary-button:hover {
    background: var(--primary-hover);
}

.theme-background .secondary-button {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border-color: var(--border-secondary);
}

.theme-background .secondary-button:hover {
    background: var(--bg-hover);
    border-color: var(--border-hover);
}

.theme-background .danger-button {
    background: #ef4444;
    color: white;
}

.theme-background .danger-button:hover {
    background: #dc2626;
}

/* =================== 主题选择器 =================== */
.theme-background .theme-selector {
    background-color: var(--bg-primary);
    border-color: var(--border-primary);
}

.theme-background .theme-option {
    border-color: var(--border-primary);
}

.theme-background .theme-option:hover {
    border-color: var(--primary-color);
}

.theme-background .theme-option.active {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(74, 137, 220, 0.2);
}

.theme-background .theme-option span {
    color: var(--text-secondary);
}

/* =================== 滑块控件 =================== */
.theme-background .slider-container {
    color: var(--text-secondary);
}

.theme-background .slider-value {
    color: var(--text-primary);
}

/* =================== 快捷键输入 =================== */
.theme-background .shortcut-input {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border-color: var(--border-secondary);
}

.theme-background .shortcut-input:focus {
    background: var(--bg-primary);
    border-color: var(--primary-color);
}

.theme-background .shortcut-input.recording {
    background: #fdf2f2;
    border-color: #e74c3c;
}

/* =================== 预设按钮 =================== */
.theme-background .preset-btn {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border-color: var(--border-secondary);
}

.theme-background .preset-btn:hover {
    background: #e9ecef;
    border-color: #adb5bd;
}

.theme-background .shortcut-presets .setting-description {
    color: var(--text-secondary);
}

/* =================== 音效设置 =================== */
.theme-background .sound-input {
    background: var(--bg-primary);
    border-color: var(--border-secondary);
    color: var(--text-primary);
}

.theme-background .sound-input:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(74, 137, 220, 0.2);
}

.theme-background .sound-browse-btn,
.theme-background .sound-test-btn,
.theme-background .sound-reset-btn {
    background: var(--bg-primary);
    border-color: var(--border-secondary);
    color: var(--text-secondary);
}

.theme-background .sound-browse-btn:hover,
.theme-background .sound-test-btn:hover,
.theme-background .sound-reset-btn:hover {
    background: var(--bg-secondary);
    border-color: var(--primary-color);
    color: var(--primary-color);
}

.theme-background .sound-test-btn.playing {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

/* =================== 关于页面 =================== */
.theme-background .about-info {
    color: var(--text-primary);
}

.theme-background .about-info h3 {
    color: var(--text-primary);
}

.theme-background .version {
    color: var(--text-secondary);
}

.theme-background .description {
    color: var(--text-secondary);
}

.theme-background .app-icon i {
    color: var(--primary-color);
}

.theme-background .about-button {
    background: var(--titlebar-bg-dynamic);
    color: var(--titlebar-text-dynamic);
}

.theme-background .about-button:hover {
    background: var(--primary-hover);
}

/* =================== 支持作者页面 =================== */
.theme-background .support-content {
    color: var(--text-primary);
}

.theme-background .support-message {
    background: var(--card-bg);
    border: 1px solid var(--border-primary);
}

.theme-background .support-text h3 {
    color: var(--primary-color);
}

.theme-background .support-text p {
    color: var(--text-secondary);
}

.theme-background .support-list li {
    color: var(--text-primary);
}

.theme-background .support-note {
    background: var(--bg-secondary);
    border-left-color: var(--primary-color);
    color: var(--primary-color) !important;
}

.theme-background .qr-code-section h4 {
    color: var(--text-primary);
}

.theme-background .qr-code {
    background: var(--bg-primary);
    border-color: #f0f0f0;
}

.theme-background .qr-desc {
    color: var(--text-secondary);
}

.theme-background .github-section {
    background: var(--card-bg);
    border: 1px solid var(--border-primary);
}

.theme-background .github-section h3 {
    color: var(--primary-color);
}

.theme-background .github-section p {
    color: var(--text-secondary);
}

.theme-background .github-btn {
    background: #333;
    color: white;
}

.theme-background .github-btn:hover {
    background: #555;
}

/* =================== 数据管理 =================== */
.theme-background .checkmark {
    background: var(--primary-hover);
    border-color: var(--border-secondary);
}

.theme-background .checkbox-item input[type="checkbox"]:checked+.checkmark {
    background: var(--primary-dark);
    border-color: var(--primary-color);
}

.theme-background .radio-mark {
    background: var(--bg-primary);
    border-color: var(--border-secondary) !important;
}

.theme-background .radio-item input[type="radio"]:checked+.radio-mark {
    border-color: var(--primary-color);
}

.theme-background .radio-item input[type="radio"]:checked+.radio-mark::after {
    background: var(--primary-color);
}

.theme-background .checkbox-item,
.theme-background .radio-item {
    color: var(--text-primary);
}

/* =================== 确认对话框 =================== */
.theme-background .confirm-dialog {
    background: var(--modal-bg);
}

.theme-background .confirm-dialog-header {
    border-bottom-color: var(--separator-color);
}

.theme-background .confirm-dialog-header h3 {
    color: var(--text-primary);
}

.theme-background .confirm-dialog-body p {
    color: var(--text-secondary);
}

.theme-background .confirm-dialog-footer .btn-secondary {
    background: var(--bg-secondary);
    color: var(--text-secondary);
    border-color: var(--border-secondary);
}

.theme-background .confirm-dialog-footer .btn-secondary:hover {
    background: var(--bg-hover);
}

.theme-background .confirm-dialog-footer .btn-primary {
    background: var(--primary-color);
    color: white;
}

.theme-background .confirm-dialog-footer .btn-primary:hover {
    background: var(--primary-hover);
}

/* =================== 表单元素增强 =================== */
.theme-background input[type="text"],
.theme-background input[type="password"],
.theme-background input[type="email"],
.theme-background input[type="number"],
.theme-background textarea,
.theme-background select {
    background: var(--bg-primary);
    border-color: var(--border-secondary);
    color: var(--text-primary);
}

.theme-background input[type="text"]:focus,
.theme-background input[type="password"]:focus,
.theme-background input[type="email"]:focus,
.theme-background input[type="number"]:focus,
.theme-background textarea:focus,
.theme-background select:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(74, 137, 220, 0.1);
}

.theme-background input[type="text"]::placeholder,
.theme-background input[type="password"]::placeholder,
.theme-background input[type="email"]::placeholder,
.theme-background input[type="number"]::placeholder,
.theme-background textarea::placeholder {
    color: var(--text-placeholder);
}

/* =================== 滑块样式 =================== */
.theme-background input[type="range"] {
    background: transparent;
}

.theme-background input[type="range"]::-webkit-slider-track {
    background: var(--bg-tertiary);
    border-radius: 5px;
}

.theme-background input[type="range"]::-webkit-slider-thumb {
    background: var(--primary-color);
    border: 2px solid var(--bg-primary);
    border-radius: 50%;
    cursor: pointer;
}

.theme-background input[type="range"]::-moz-range-track {
    background: var(--bg-tertiary);
    border-radius: 5px;
}

.theme-background input[type="range"]::-moz-range-thumb {
    background: var(--primary-color);
    border: 2px solid var(--bg-primary);
    border-radius: 50%;
    cursor: pointer;
}

/* =================== 加载状态 =================== */
.theme-background .loading::after {
    border-color: transparent;
    border-top-color: var(--primary-color);
}

/* =================== 通知和提示 =================== */
.theme-background .notification {
    background: var(--bg-primary);
    border: 1px solid var(--border-primary);
    color: var(--text-primary);
    box-shadow: var(--shadow-medium);
}

.theme-background .notification.success {
    border-left-color: var(--success-color);
}

.theme-background .notification.warning {
    border-left-color: var(--warning-color);
}

.theme-background .notification.error {
    border-left-color: var(--error-color);
}

.theme-background .notification.info {
    border-left-color: var(--info-color);
}

/* =================== 禁用状态 =================== */
.theme-background .disabled,
.theme-background [disabled] {
    background-color: var(--bg-disabled) !important;
    color: var(--text-muted) !important;
    border-color: var(--border-disabled) !important;
}

/* =================== 激活和聚焦状态 =================== */
.theme-background .setting-item:focus-within {
    background-color: rgba(74, 137, 220, 0.05);
}

.theme-background .nav-item:focus {
    outline-color: var(--primary-color);
}

.theme-background button:focus,
.theme-background input:focus,
.theme-background select:focus,
.theme-background textarea:focus {
    outline-color: var(--primary-color);
}

/* =================== 悬停效果增强 =================== */
.theme-background .nav-item:not(.active):hover {
    background-color: rgba(74, 137, 220, 0.08);
    transform: translateX(4px);
}

.theme-background .theme-option:not(.active):hover {
    border-color: var(--primary-color);
    background-color: rgba(74, 137, 220, 0.02);
}

.theme-background .setting-button:hover,
.theme-background .setting-button-small:hover {
    box-shadow: var(--shadow-light);
}

/* =================== 高对比度支持 =================== */
@media (prefers-contrast: high) {
    .theme-background {
        --border-primary: #000;
        --border-secondary: #333;
        --text-primary: #000;
        --text-secondary: #333;
    }
}

/* =================== 减少动画支持 =================== */
@media (prefers-reduced-motion: reduce) {
    .theme-background * {
        transition-duration: 0.01ms !important;
        animation-duration: 0.01ms !important;
    }
}

/* =================== 特殊组件状态 =================== */
.theme-background .setting-item.highlight {
    background-color: rgba(74, 137, 220, 0.1);
    border-color: var(--primary-color);
}

.theme-background .setting-group.expanded {
    box-shadow: var(--shadow-medium);
}

.theme-background .nav-item.pending {
    opacity: 0.7;
}

/* =================== 响应式调整 =================== */
@media (max-width: 768px) {
    .theme-background .settings-sidebar {
        background-color: var(--bg-secondary);
    }

    .theme-background .nav-item {
        background-color: var(--bg-primary);
        margin-bottom: 2px;
        border-radius: var(--border-radius);
    }
}


/* =================== 自定义滚动条 =================== */
.theme-background ::-webkit-scrollbar-thumb {
    background: #ccc;
}

.theme-background ::-webkit-scrollbar-thumb:hover {
    background: #999;
}

.theme-background ::-webkit-scrollbar-track {
    background: var(--bg-secondary);
}

/* =================== 打印样式 =================== */
@media print {

    .theme-background .settings-header,
    .theme-background .settings-sidebar {
        display: none;
    }

    .theme-background .settings-main {
        padding: 0;
    }

    .theme-background .settings-group {
        break-inside: avoid;
        box-shadow: none;
        border: 1px solid #000;
    }
}


.theme-background .contrast-text {
    position: relative;
    -webkit-text-stroke: 0.4px rgba(0, 0, 0, 0.35);
    text-shadow:
        0 0 1px rgba(0, 0, 0, 0.55),
        0 1px 2px rgba(0, 0, 0, 0.35),
        0 0 1px rgba(255, 255, 255, 0.25);
}

.theme-background .contrast-text::before {
    content: "";
    position: absolute;
    z-index: -1;
    inset: -2px;
    border-radius: 6px;
    backdrop-filter: blur(6px) saturate(115%) contrast(85%);
    -webkit-backdrop-filter: blur(6px) saturate(115%) contrast(85%);
}

.theme-background .blend-boost {
    mix-blend-mode: difference;
}

.theme-background,
.theme-background * {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.theme-background h1,
.theme-background h2,
.theme-background h3,
.theme-background h4,
.theme-background h5,
.theme-background h6,
.theme-background p,
.theme-background span,
.theme-background div,
.theme-background label,
.theme-background a,
.theme-background li,
.theme-background button,
.theme-background kbd,
.theme-background code,
.theme-background input,
.theme-background textarea,
.theme-background select {
    -webkit-text-stroke: 0.15px var(--primary-hover);
    text-shadow:
        0 0 0.5px rgba(0, 0, 0, 0.5),
        0 0.5px 1px rgba(0, 0, 0, 0.35),
        0 0 0.5px rgba(255, 255, 255, 0.18);
}

.theme-background ::placeholder {
    -webkit-text-stroke: 0.55px rgba(0, 0, 0, 0.22);
    text-shadow:
        0 0 0.5px rgba(0, 0, 0, 0.4),
        0 0.5px 1px rgba(0, 0, 0, 0.25);
}

/* .theme-background i,
.theme-background .ti {
    -webkit-text-stroke: 0 !important;
    text-shadow: none !important;
} */

/* 应用黑/白名单 */
.theme-background .mode-option {
    color: var(--titlebar-bg-dynamic);
}

.theme-background .mode-option input[type="radio"]:checked+.mode-card {
    color: var(--primary-color);
}